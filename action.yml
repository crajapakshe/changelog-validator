# name: 'Changelog Validator'
# description: 'Validates that CHANGELOG.md exists and follows the expected format'
# inputs:
#   changelog-path:
#     description: 'Path to the changelog file'
#     required: false
#     default: 'CHANGELOG.md'
#   check-updated:
#     description: 'Check if changelog was updated in PR'
#     required: false
#     default: 'true'
# runs:
#   using: 'node20'
#   main: 'cli.js'


name: 'Changelog Validator'
description: 'Validates that CHANGELOG.md exists and follows the expected format'
inputs:
  changelog-path:
    description: 'Path to the changelog file'
    required: false
    default: 'CHANGELOG.md'
  check-updated:
    description: 'Check if changelog was updated in PR'
    required: false
    default: 'true'
runs:
  using: 'composite'
  steps:
    - name: Setup Node.js
      shell: bash
      uses: actions/setup-node@v4
      with:
        node-version: '20'
        cache: 'npm'

    - name: Install dependencies
      shell: bash
      run: npm ci

    - name: Run changelog validation
      shell: bash
      run: node cli.js